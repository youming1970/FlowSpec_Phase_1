# FlowSpec CLI v1.0.0 å‘å¸ƒè¯´æ˜

## ğŸ‰ é‡å¤§é‡Œç¨‹ç¢‘å‘å¸ƒ

FlowSpec CLI v1.0.0 æ˜¯ FlowSpec Phase 1 MVP çš„æ­£å¼ç‰ˆæœ¬ï¼Œæ ‡å¿—ç€è¿™ä¸ªåˆ›æ–°å·¥å…·çš„é¦–æ¬¡å…¬å¼€å‘å¸ƒã€‚è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€ç”Ÿäº§å°±ç»ªçš„å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºéªŒè¯ ServiceSpec æ³¨è§£ä¸ OpenTelemetry è½¨è¿¹æ•°æ®çš„å¯¹é½ã€‚

## ğŸ“¦ ä¸‹è½½å’Œå®‰è£…

### ä½¿ç”¨ go install å®‰è£…ï¼ˆæ¨èï¼‰

```bash
go install github.com/flowspec/flowspec-cli/cmd/flowspec-cli@v1.0.0
```

### ä¸‹è½½é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶

é€‰æ‹©é€‚åˆæ‚¨å¹³å°çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼š

- **Linux AMD64**: [flowspec-cli-1.0.0-linux-amd64.tar.gz](../../releases/download/v1.0.0/flowspec-cli-1.0.0-linux-amd64.tar.gz)
- **Linux ARM64**: [flowspec-cli-1.0.0-linux-arm64.tar.gz](../../releases/download/v1.0.0/flowspec-cli-1.0.0-linux-arm64.tar.gz)
- **macOS AMD64**: [flowspec-cli-1.0.0-darwin-amd64.tar.gz](../../releases/download/v1.0.0/flowspec-cli-1.0.0-darwin-amd64.tar.gz)
- **macOS ARM64**: [flowspec-cli-1.0.0-darwin-arm64.tar.gz](../../releases/download/v1.0.0/flowspec-cli-1.0.0-darwin-arm64.tar.gz)
- **Windows AMD64**: [flowspec-cli-1.0.0-windows-amd64.tar.gz](../../releases/download/v1.0.0/flowspec-cli-1.0.0-windows-amd64.tar.gz)

### éªŒè¯å®‰è£…

```bash
flowspec-cli --version
# è¾“å‡º: flowspec-cli version 1.0.0 (commit: xxx, built: 2025-08-04)
```

## âœ¨ ä¸»è¦åŠŸèƒ½

### ğŸ” å¤šè¯­è¨€ ServiceSpec è§£æå™¨
- **Java æ”¯æŒ**: è§£æ `@ServiceSpec` æ³¨è§£
- **TypeScript æ”¯æŒ**: è§£æ `@ServiceSpec` æ³¨é‡Š
- **Go æ”¯æŒ**: è§£æ `@ServiceSpec` æ³¨é‡Š
- **å®¹é”™å¤„ç†**: ä¼˜é›…å¤„ç†æ ¼å¼é”™è¯¯çš„æ³¨è§£
- **æ‰¹é‡å¤„ç†**: æ”¯æŒå¤§è§„æ¨¡ä»£ç åº“æ‰«æ

### ğŸ“Š OpenTelemetry è½¨è¿¹æ‘„å–
- **OTLP JSON æ ¼å¼**: å®Œæ•´æ”¯æŒ OpenTelemetry JSON æ ¼å¼
- **çµæ´»è§£æ**: å…¼å®¹å­—ç¬¦ä¸²å’Œæ•°å€¼ç±»å‹çš„å­—æ®µ
- **å¤§æ–‡ä»¶æ”¯æŒ**: æµå¼å¤„ç†å¤§å‹è½¨è¿¹æ–‡ä»¶
- **å†…å­˜ä¼˜åŒ–**: æ™ºèƒ½å†…å­˜ç®¡ç†å’Œåƒåœ¾å›æ”¶

### âœ… æ™ºèƒ½æ–­è¨€éªŒè¯
- **JSONLogic å¼•æ“**: å¼ºå¤§çš„æ–­è¨€è¡¨è¾¾å¼æ”¯æŒ
- **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**: å®Œæ•´çš„ span å±æ€§å’Œäº‹ä»¶è®¿é—®
- **è¯¦ç»†æŠ¥å‘Š**: ç²¾ç¡®çš„å¤±è´¥åŸå› å’Œä¸Šä¸‹æ–‡ä¿¡æ¯
- **æ€§èƒ½ç›‘æ§**: éªŒè¯è¿‡ç¨‹çš„æ€§èƒ½æŒ‡æ ‡æ”¶é›†

### ğŸ“‹ ä¸°å¯Œçš„æŠ¥å‘Šè¾“å‡º
- **Human æ ¼å¼**: æ¸…æ™°æ˜“è¯»çš„ç»ˆç«¯è¾“å‡º
- **JSON æ ¼å¼**: ç»“æ„åŒ–æ•°æ®ä¾¿äºé›†æˆ
- **ç»Ÿè®¡ä¿¡æ¯**: å®Œæ•´çš„éªŒè¯ç»Ÿè®¡å’Œæ±‡æ€»
- **é€€å‡ºç **: æ ‡å‡†çš„å‘½ä»¤è¡Œé€€å‡ºç æ”¯æŒ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åŸºæœ¬ç”¨æ³•

```bash
# éªŒè¯æˆåŠŸåœºæ™¯
flowspec-cli align \
  --path=./my-project \
  --trace=./traces/success.json \
  --output=human

# JSON æ ¼å¼è¾“å‡º
flowspec-cli align \
  --path=./my-project \
  --trace=./traces/test.json \
  --output=json

# è¯¦ç»†è°ƒè¯•ä¿¡æ¯
flowspec-cli align \
  --path=./my-project \
  --trace=./traces/debug.json \
  --output=human \
  --debug \
  --verbose
```

### ServiceSpec æ³¨è§£ç¤ºä¾‹

**Java ç¤ºä¾‹**:
```java
/**
 * @ServiceSpec
 * operationId: "createUser"
 * description: "åˆ›å»ºæ–°ç”¨æˆ·è´¦æˆ·"
 * preconditions: {
 *   "email_required": {"!=": [{"var": "span.attributes.request.body.email"}, null]},
 *   "password_length": {">=": [{"var": "span.attributes.request.body.password.length"}, 8]}
 * }
 * postconditions: {
 *   "success_status": {"==": [{"var": "span.attributes.http.status_code"}, 201]},
 *   "user_id_generated": {"!=": [{"var": "span.attributes.response.body.userId"}, null]}
 * }
 */
public User createUser(CreateUserRequest request) {
    // å®ç°ä»£ç 
}
```

**TypeScript ç¤ºä¾‹**:
```typescript
/**
 * @ServiceSpec
 * operationId: "getUser"
 * description: "è·å–ç”¨æˆ·ä¿¡æ¯"
 * preconditions: {
 *   "user_id_required": {"!=": [{"var": "span.attributes.request.params.userId"}, null]}
 * }
 * postconditions: {
 *   "success_or_not_found": {"in": [{"var": "span.attributes.http.status_code"}, [200, 404]]}
 * }
 */
async function getUser(userId: string): Promise<User | null> {
    // å®ç°ä»£ç 
}
```

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### åŸºå‡†æµ‹è¯•ç»“æœ
- **è§£ææ€§èƒ½**: 1,000 ä¸ªæºæ–‡ä»¶ < 30 ç§’
- **å†…å­˜ä½¿ç”¨**: 100MB è½¨è¿¹æ–‡ä»¶ < 500MB å†…å­˜
- **å¹¶å‘å¤„ç†**: æ”¯æŒå¤šçº¿ç¨‹å¹¶è¡Œå¤„ç†
- **æµ‹è¯•è¦†ç›–ç‡**: 93.6% ä»£ç è¦†ç›–ç‡

### æ”¯æŒè§„æ¨¡
- **æºæ–‡ä»¶**: æ”¯æŒ 1,000+ æºæ–‡ä»¶é¡¹ç›®
- **ServiceSpec**: æ”¯æŒ 200+ ServiceSpec æ³¨è§£
- **è½¨è¿¹æ•°æ®**: æ”¯æŒ 100MB+ è½¨è¿¹æ–‡ä»¶
- **å¹¶å‘åº¦**: å¯é…ç½®çš„å·¥ä½œçº¿ç¨‹æ•°

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒç»„ä»¶
- **SpecParser**: å¤šè¯­è¨€æºä»£ç è§£æå™¨
- **TraceIngestor**: OpenTelemetry è½¨è¿¹æ‘„å–å™¨
- **AlignmentEngine**: è§„çº¦ä¸è½¨è¿¹å¯¹é½éªŒè¯å¼•æ“
- **ReportRenderer**: å¤šæ ¼å¼æŠ¥å‘Šæ¸²æŸ“å™¨

### æŠ€æœ¯æ ˆ
- **è¯­è¨€**: Go 1.21+
- **æ–­è¨€å¼•æ“**: JSONLogic
- **CLI æ¡†æ¶**: Cobra
- **æ—¥å¿—ç³»ç»Ÿ**: Logrus
- **æµ‹è¯•æ¡†æ¶**: Testify

### æ¶æ„ç‰¹ç‚¹
- **æ¨¡å—åŒ–è®¾è®¡**: æ¸…æ™°çš„ç»„ä»¶åˆ†ç¦»å’Œæ¥å£å®šä¹‰
- **å¯æ‰©å±•æ€§**: æ˜“äºæ·»åŠ æ–°è¯­è¨€å’ŒåŠŸèƒ½æ”¯æŒ
- **é«˜æ€§èƒ½**: æµå¼å¤„ç†å’Œå¹¶å‘ä¼˜åŒ–
- **å®¹é”™æ€§**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶

## ğŸ“š æ–‡æ¡£å’Œèµ„æº

### æ ¸å¿ƒæ–‡æ¡£
- [README.md](./README.md) - é¡¹ç›®ä»‹ç»å’Œå¿«é€Ÿå¼€å§‹
- [API æ–‡æ¡£](./docs/API.md) - è¯¦ç»†çš„ API å‚è€ƒ
- [æ¶æ„æ–‡æ¡£](./docs/ARCHITECTURE.md) - æŠ€æœ¯æ¶æ„è¯´æ˜
- [FAQ](./docs/FAQ.md) - å¸¸è§é—®é¢˜è§£ç­”

### å¼€å‘èµ„æº
- [è´¡çŒ®æŒ‡å—](./CONTRIBUTING.md) - å¦‚ä½•å‚ä¸é¡¹ç›®å¼€å‘
- [å˜æ›´æ—¥å¿—](./CHANGELOG.md) - è¯¦ç»†çš„ç‰ˆæœ¬å˜æ›´è®°å½•
- [ç¤ºä¾‹é¡¹ç›®](./examples/) - å®Œæ•´çš„ä½¿ç”¨ç¤ºä¾‹

### ç¤¾åŒºæ”¯æŒ
- [GitHub Issues](../../issues) - é—®é¢˜æŠ¥å‘Šå’ŒåŠŸèƒ½è¯·æ±‚
- [GitHub Discussions](../../discussions) - ç¤¾åŒºè®¨è®ºå’Œäº¤æµ
- [é¡¹ç›®è·¯çº¿å›¾](./ROADMAP.md) - æœªæ¥ç‰ˆæœ¬è§„åˆ’

## ğŸ”§ é…ç½®é€‰é¡¹

### å‘½ä»¤è¡Œå‚æ•°
```bash
flowspec-cli align [flags]

Flags:
  -p, --path string        æºä»£ç ç›®å½•è·¯å¾„ (default ".")
  -t, --trace string       OpenTelemetry è½¨è¿¹æ–‡ä»¶è·¯å¾„
  -o, --output string      è¾“å‡ºæ ¼å¼ (human|json) (default "human")
      --timeout duration   å•ä¸ª ServiceSpec å¯¹é½çš„è¶…æ—¶æ—¶é—´ (default 30s)
      --max-workers int    å¹¶å‘å¤„ç†çš„æœ€å¤§å·¥ä½œçº¿ç¨‹æ•° (default 4)
      --strict             å¯ç”¨ä¸¥æ ¼æ¨¡å¼éªŒè¯
      --debug              å¯ç”¨è°ƒè¯•æ¨¡å¼ï¼Œè¾“å‡ºè¯¦ç»†æ—¥å¿—ä¿¡æ¯
  -v, --verbose            å¯ç”¨è¯¦ç»†è¾“å‡º
      --log-level string   è®¾ç½®æ—¥å¿—çº§åˆ« (debug, info, warn, error) (default "info")
```

### é€€å‡ºç 
- **0**: éªŒè¯æˆåŠŸï¼Œæ‰€æœ‰æ–­è¨€é€šè¿‡
- **1**: éªŒè¯å¤±è´¥ï¼Œå­˜åœ¨æ–­è¨€å¤±è´¥
- **2**: ç³»ç»Ÿé”™è¯¯ï¼Œè¾“å…¥æ— æ•ˆæˆ–å¤„ç†å¼‚å¸¸

## ğŸ§ª æµ‹è¯•å’Œè´¨é‡ä¿è¯

### æµ‹è¯•è¦†ç›–
- **å•å…ƒæµ‹è¯•**: æ‰€æœ‰æ ¸å¿ƒæ¨¡å— 100% è¦†ç›–
- **é›†æˆæµ‹è¯•**: ç«¯åˆ°ç«¯åœºæ™¯éªŒè¯
- **æ€§èƒ½æµ‹è¯•**: åŸºå‡†æµ‹è¯•å’Œå‹åŠ›æµ‹è¯•
- **å…¼å®¹æ€§æµ‹è¯•**: å¤šå¹³å°å’Œå¤šç‰ˆæœ¬æµ‹è¯•

### è´¨é‡æŒ‡æ ‡
- **ä»£ç è¦†ç›–ç‡**: 93.6%
- **é™æ€åˆ†æ**: é€šè¿‡ golangci-lint æ£€æŸ¥
- **å†…å­˜å®‰å…¨**: æ— å†…å­˜æ³„æ¼å’Œæ•°æ®ç«äº‰
- **æ€§èƒ½åŸºå‡†**: æ»¡è¶³æ‰€æœ‰æ€§èƒ½è¦æ±‚

## ğŸ› å·²çŸ¥é—®é¢˜å’Œé™åˆ¶

### å½“å‰é™åˆ¶
1. **JSONLogic è¯„ä¼°**: å¤æ‚è¡¨è¾¾å¼çš„ç»“æœåˆ¤å®šéœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–
2. **å¹¶å‘å®‰å…¨**: æ€§èƒ½ç›‘æ§æ¨¡å—å­˜åœ¨è½»å¾®çš„æ•°æ®ç«äº‰é—®é¢˜
3. **é”™è¯¯ä¿¡æ¯**: æŸäº›é”™è¯¯åœºæ™¯çš„æç¤ºä¿¡æ¯å¯ä»¥æ›´å‹å¥½
4. **è¯­è¨€æ”¯æŒ**: ç›®å‰ä»…æ”¯æŒ Javaã€TypeScriptã€Go ä¸‰ç§è¯­è¨€

### è®¡åˆ’ä¿®å¤
- v1.1.0 å°†ä¿®å¤ JSONLogic è¯„ä¼°å’Œå¹¶å‘å®‰å…¨é—®é¢˜
- v1.2.0 å°†æ”¹è¿›é”™è¯¯å¤„ç†å’Œç”¨æˆ·ä½“éªŒ
- v1.3.0 å°†æ·»åŠ æ›´å¤šç¼–ç¨‹è¯­è¨€æ”¯æŒ

## ğŸ¤ è´¡çŒ®å’Œåé¦ˆ

### å¦‚ä½•è´¡çŒ®
1. **æŠ¥å‘Šé—®é¢˜**: åœ¨ [Issues](../../issues) ä¸­æŠ¥å‘Š bug æˆ–æå‡ºåŠŸèƒ½è¯·æ±‚
2. **ä»£ç è´¡çŒ®**: Fork é¡¹ç›®å¹¶æäº¤ Pull Request
3. **æ–‡æ¡£æ”¹è¿›**: å¸®åŠ©å®Œå–„æ–‡æ¡£å’Œç¤ºä¾‹
4. **æµ‹è¯•åé¦ˆ**: åœ¨ä¸åŒç¯å¢ƒä¸­æµ‹è¯•å¹¶æä¾›åé¦ˆ

### è´¡çŒ®è€…è‡´è°¢
æ„Ÿè°¢æ‰€æœ‰ä¸º FlowSpec CLI åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache-2.0 è®¸å¯è¯](./LICENSE)ã€‚

## ğŸ”® æœªæ¥è§„åˆ’

### v1.1.0 (2025å¹´9æœˆ)
- ä¿®å¤å·²çŸ¥é—®é¢˜å’Œæ€§èƒ½ä¼˜åŒ–
- æ”¹è¿›é”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆ
- å¢å¼ºè°ƒè¯•å’Œè¯Šæ–­åŠŸèƒ½

### v1.2.0 (2025å¹´10æœˆ)
- é…ç½®æ–‡ä»¶æ”¯æŒ
- VS Code æ‰©å±•
- Docker é•œåƒæ”¯æŒ

### v1.3.0 (2025å¹´11æœˆ)
- Python å’Œ C# è¯­è¨€æ”¯æŒ
- YAML æ ¼å¼ ServiceSpec
- Jaeger è½¨è¿¹æ ¼å¼æ”¯æŒ

è¯¦ç»†çš„æœªæ¥è§„åˆ’è¯·æŸ¥çœ‹ [äº§å“è·¯çº¿å›¾](./ROADMAP.md)ã€‚

---

**å‘å¸ƒæ—¥æœŸ**: 2025å¹´8æœˆ4æ—¥  
**å‘å¸ƒç‰ˆæœ¬**: v1.0.0  
**Git æ ‡ç­¾**: [v1.0.0](../../releases/tag/v1.0.0)

æ„Ÿè°¢æ‚¨ä½¿ç”¨ FlowSpec CLIï¼å¦‚æœæ‚¨è§‰å¾—è¿™ä¸ªå·¥å…·æœ‰ç”¨ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ Starï¼Œå¹¶åˆ†äº«ç»™æ‚¨çš„åŒäº‹å’Œæœ‹å‹ã€‚

æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿é€šè¿‡ [GitHub Issues](../../issues) è”ç³»æˆ‘ä»¬ã€‚